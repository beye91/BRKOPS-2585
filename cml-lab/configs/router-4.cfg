hostname Router-4
!
enable secret cisco
username admin privilege 15 secret cisco
!
interface GigabitEthernet1
 description MGMT-INTERFACE
 ip address 198.18.1.204 255.255.255.0
 no shutdown
!
interface Loopback0
 description OSPF-ROUTER-ID
 ip address 10.255.255.4 255.255.255.255
!
interface GigabitEthernet2
 description Link-to-Router-1
 ip address 10.1.14.2 255.255.255.252
 ip ospf network point-to-point
 no shutdown
!
interface GigabitEthernet3
 description Link-to-Router-2
 ip address 10.1.24.2 255.255.255.252
 ip ospf network point-to-point
 no shutdown
!
interface GigabitEthernet4
 description Link-to-Router-3
 ip address 10.1.34.2 255.255.255.252
 ip ospf network point-to-point
 no shutdown
!
router ospf 1
 router-id 10.255.255.4
 log-adjacency-changes detail
 network 10.1.14.0 0.0.0.3 area 0
 network 10.1.24.0 0.0.0.3 area 0
 network 10.1.34.0 0.0.0.3 area 0
 network 10.255.255.4 0.0.0.0 area 0
!
ip route 0.0.0.0 0.0.0.0 198.18.1.1
!
logging host 198.18.134.22
logging trap informational
logging source-interface GigabitEthernet1
logging on
!
snmp-server community public RO
snmp-server community private RW
snmp-server location CML-Lab-dCloud
snmp-server contact admin@brkops.local
snmp-server enable traps ospf state-change
snmp-server enable traps ospf errors
snmp-server enable traps ospf lsa
snmp-server enable traps config
snmp-server enable traps syslog
snmp-server host 198.18.134.22 version 2c public
!
telemetry ietf subscription 101
 encoding encode-kvgpb
 filter xpath /process-cpu-ios-xe-oper:cpu-usage/cpu-utilization/five-seconds
 source-address 198.18.1.204
 stream yang-push
 update-policy periodic 1000
 receiver ip address 198.18.134.22 57400 protocol grpc-tcp
!
telemetry ietf subscription 102
 encoding encode-kvgpb
 filter xpath /interfaces-ios-xe-oper:interfaces/interface/statistics
 source-address 198.18.1.204
 stream yang-push
 update-policy periodic 1000
 receiver ip address 198.18.134.22 57400 protocol grpc-tcp
!
telemetry ietf subscription 103
 encoding encode-kvgpb
 filter xpath /memory-ios-xe-oper:memory-statistics/memory-statistic
 source-address 198.18.1.204
 stream yang-push
 update-policy periodic 1000
 receiver ip address 198.18.134.22 57400 protocol grpc-tcp
!
telemetry ietf subscription 104
 encoding encode-kvgpb
 filter xpath /ospf-ios-xe-oper:ospf-oper-data
 source-address 198.18.1.204
 stream yang-push
 update-policy on-change
 receiver ip address 198.18.134.22 57400 protocol grpc-tcp
!
netconf-yang
!
ip domain name brkops.local
crypto key generate rsa modulus 2048
!
line vty 0 4
 login local
 transport input ssh
!
line console 0
 logging synchronous
!
end
